(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{50:function(e,t,c){},80:function(e,t,c){"use strict";c.r(t);var s=c(0),a=c(21),n=c.n(a),i=(c(50),c(16)),j=c(8),o=c(6),r=c(7),d=c.n(r),l=c.p+"static/media/votonline.037b15fc.jpg",h=c(1);var b=function(){var e=Object(j.f)(),t=Object(s.useState)(""),c=Object(o.a)(t,2),a=c[0],n=c[1],i=Object(s.useState)(""),r=Object(o.a)(i,2),b=r[0],O=r[1],x=Object(s.useState)(""),u=Object(o.a)(x,2),m=u[0],p=u[1];return d.a.defaults.withCredentials=!0,Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("h1",{children:"Login"}),Object(h.jsx)("img",{className:"image",src:l,alt:"Votr\xf3nico"}),Object(h.jsxs)("div",{className:"form",children:[Object(h.jsx)("label",{children:"Utilizador"}),Object(h.jsx)("input",{type:"text",name:"username",onChange:function(e){n(e.target.value)}}),Object(h.jsx)("h5",{className:"alertmsg",children:m}),Object(h.jsx)("label",{children:"Password"}),Object(h.jsx)("input",{type:"password",name:"password",onChange:function(e){O(e.target.value)}}),Object(h.jsx)("button",{className:"submit",onClick:function(){d.a.post("https://atwvc.herokuapp.com/login",{username:a,password:b}).then((function(t){if(t.data.message)p(t.data.message);else{var c=t.data[0].id_user;e.push("/profile/".concat(c))}}))},children:"Entrar"}),Object(h.jsx)("div",{className:"rodape",children:Object(h.jsx)("p",{children:"Votr\xf3nico+ - Vitor Costa 2021"})})]})]})},O=c(9),x=c(15),u=c(84),m=c(82),p=c(85),v=c(45);var f=function(){Object(j.f)();var e=Object(j.g)(),t=Object(s.useState)(),c=Object(o.a)(t,2),a=c[0],n=c[1],i=Object(s.useState)(""),r=Object(o.a)(i,2),l=r[0],b=r[1],f=Object(s.useState)(""),g=Object(o.a)(f,2),C=g[0],S=g[1],_=Object(s.useState)(""),N=Object(o.a)(_,2),k=N[0],L=N[1],V=Object(s.useState)(""),y=Object(o.a)(V,2),w=y[0],E=y[1],I=Object(s.useState)(),D=Object(o.a)(I,2),A=D[0],B=D[1],R=Object(s.useState)([]),H=Object(o.a)(R,2),z=H[0],P=H[1];0===z.length&&null!==z&&d.a.post("http://localhost:3001/getDocs").then((function(e){P(e.data)}));var G={docData:z}.docData.map((function(e){return Object(h.jsx)("option",{value:e.id_doc,children:e.descricao},e.id_doc)})),F=Object(s.useState)({id:-1,name:"",mail:"",pass:"",docnr:"",doctype:-1,group:-1}),M=Object(o.a)(F,2),J=M[0],K=M[1];return Object(s.useEffect)((function(){d.a.get("http://localhost:3001/isLoggedIn/".concat(e.id)).then((function(e){K({id:e.data[0].id_user,name:e.data[0].nome,mail:e.data[0].email,pass:e.data[0].password,docnr:e.data[0].nr_doc,doctype:e.data[0].tipo_doc,group:e.data[0].distrito}),sessionStorage.setItem("name",e.data[0].nome),b(e.data[0].nome),S(e.data[0].email),L(e.data[0].password),E(e.data[0].nr_doc),B(e.data[0].tipo_doc)}))}),[]),Object(h.jsxs)(x.a,{fluid:!0,children:[Object(h.jsxs)(m.a,{className:"header",children:[Object(h.jsx)("h2",{children:"Menu"}),Object(h.jsxs)("h4",{children:["Bem vindo ",sessionStorage.getItem("name")]})]}),Object(h.jsxs)(m.a,{className:"mainCanvas",children:[Object(h.jsxs)(O.a,{defaultActiveKey:"/profile",className:"flex-column",children:[Object(h.jsx)(O.a.Link,{children:"Home"}),Object(h.jsx)(O.a.Link,{href:"/events/".concat(J.id),children:"Evento/Vota\xe7\xe3o"}),Object(h.jsx)(O.a.Link,{href:"/results/".concat(J.id),children:"Resultados"}),Object(h.jsx)(O.a.Link,{href:"http://localhost:3001/logout",children:"Logout"})]}),Object(h.jsxs)("div",{className:"rest",children:[Object(h.jsxs)("header",{children:[" ",Object(h.jsx)("h1",{children:" Dados Pessoais "})," "]}),Object(h.jsx)("hr",{}),a,Object(h.jsxs)(p.a,{children:[Object(h.jsxs)(p.a.Group,{type:"text",placeholder:"Normal text",children:[Object(h.jsx)(p.a.Label,{children:"Utilizador"}),Object(h.jsx)(p.a.Control,{size:"sm",name:"nameuser",onChange:function(e){b(e.target.value)},placeholder:J.name})]}),Object(h.jsxs)(p.a.Group,{controlId:"formBasicPassword",children:[Object(h.jsx)(p.a.Label,{children:"Password"}),Object(h.jsx)(p.a.Control,{size:"sm",type:"password",name:"passw",onChange:function(e){L(e.target.value)},placeholder:"*********"})]}),Object(h.jsxs)(p.a.Group,{controlId:"formBasicEmail",children:[Object(h.jsx)(p.a.Label,{children:"Email"}),Object(h.jsx)(p.a.Control,{size:"sm",type:"email",name:"mailAd",onChange:function(e){S(e.target.value)},placeholder:J.mail})]}),Object(h.jsxs)(p.a.Group,{controlId:"exampleForm.ControlSelect1",children:[Object(h.jsx)(p.a.Label,{children:"Tipo Documento"}),Object(h.jsx)(p.a.Control,{size:"sm",as:"select",name:"doc_type",onChange:function(e){B(e.target.value)},custom:!0,required:!0,children:G})]}),Object(h.jsxs)(p.a.Group,{type:"text",placeholder:"Normal text",children:[Object(h.jsx)(p.a.Label,{children:"N\xfamero de Documento"}),Object(h.jsx)(p.a.Control,{size:"sm",type:"text",name:"doc_nr",onChange:function(e){E(e.target.value)},placeholder:J.docnr})]}),Object(h.jsx)(v.a,{variant:"primary",type:"button",onClick:function(){d.a.post("http://localhost:3001/update",{user_id:e.id,nameuser:l,mailAd:C,passw:k,doc_nr:w,doc_type:A}).then((function(e){1===e.data.affectedRows?n(Object(h.jsx)(u.a,{variant:"success",children:Object(h.jsx)(u.a.Heading,{children:"Dados alterados com sucesso!"})})):n(Object(h.jsx)(u.a,{variant:"danger",children:Object(h.jsx)(u.a.Heading,{children:"Falha na altera\xe7\xe3o!"})}))}))},children:"Alterar"})]})]})]}),Object(h.jsx)(m.a,{className:"rodape2",children:Object(h.jsx)("p",{children:"Votr\xf3nico+ | Vitor Costa 2021"})})]})},g=c(17);var C=function(){var e=this,t=Object(j.f)(),c=Object(j.g)();sessionStorage.setItem("id",c.id);var a=Object(s.useState)(0),n=Object(o.a)(a,2),i=n[0],r=n[1],l=Object(s.useState)(),b=Object(o.a)(l,2),p=b[0],f=b[1],C=(new Date).toISOString().substring(0,10);Object(s.useEffect)((function(){d.a.get("http://localhost:3001/event/".concat(c.id)).then((function(e){r(e.data[0].distrito)}))}),[]);var S=Object(s.useState)([]),_=Object(o.a)(S,2),N=_[0],k=_[1];0===N.length&&null!==N&&d.a.get("http://localhost:3001/events/".concat(i)).then((function(e){k(e.data)}));var L=function(e){d.a.get("http://localhost:3001/voted/".concat(c.id,"/").concat(e)).then((function(c){c.data.length>0?f(Object(h.jsx)(u.a,{variant:"danger",children:Object(h.jsx)(u.a.Heading,{children:"J\xe1 submeteu o seu voto neste evento!"})})):t.push("/votingOption/".concat(e))}))},V={eventList:N}.eventList.map((function(t){var c=t.data_ini.substring(0,10),s=t.data_fim.substring(0,10);return C<s&&C>c?Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:t.id_ele}),Object(h.jsx)("td",{children:t.nome}),Object(h.jsx)("td",{children:c}),Object(h.jsx)("td",{children:s}),Object(h.jsx)("td",{children:t.d_nome}),Object(h.jsx)("td",{children:Object(h.jsx)(v.a,{onClick:L.bind(e,t.id_ele),children:"Votar"})})]}):C<c?Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:t.id_ele}),Object(h.jsx)("td",{children:t.nome}),Object(h.jsx)("td",{children:c}),Object(h.jsx)("td",{children:s}),Object(h.jsx)("td",{children:t.d_nome}),Object(h.jsx)("td",{children:Object(h.jsx)(v.a,{variant:"danger",disabled:!0,children:"Indispon\xedvel"})})]}):void 0})),y=Object(s.useState)([]),w=Object(o.a)(y,2),E=w[0],I=w[1];i>1&&0===N.length&&null!==N&&d.a.get("http://localhost:3001/generalEvents").then((function(e){I(e.data)}));var D={generalList:E}.generalList.map((function(t){var c=t.data_ini.substring(0,10),s=t.data_fim.substring(0,10);return C<s&&C>c?Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:t.id_ele}),Object(h.jsx)("td",{children:t.nome}),Object(h.jsx)("td",{children:c}),Object(h.jsx)("td",{children:s}),Object(h.jsx)("td",{children:t.d_nome}),Object(h.jsx)("td",{children:Object(h.jsx)(v.a,{onClick:L.bind(e,t.id_ele),children:"Votar"})})]}):C<c?Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:t.id_ele}),Object(h.jsx)("td",{children:t.nome}),Object(h.jsx)("td",{children:c}),Object(h.jsx)("td",{children:s}),Object(h.jsx)("td",{children:t.d_nome}),Object(h.jsx)("td",{children:Object(h.jsx)(v.a,{variant:"danger",disabled:!0,children:"Indispon\xedvel"})})]}):void 0}));return Object(h.jsxs)(x.a,{fluid:!0,children:[Object(h.jsxs)(m.a,{className:"header",children:[Object(h.jsx)("h2",{children:"Menu"}),Object(h.jsxs)("h4",{children:["Bem vindo ",sessionStorage.getItem("name")]})]}),Object(h.jsxs)(m.a,{className:"mainCanvas",children:[Object(h.jsxs)(O.a,{defaultActiveKey:"/home",className:"flex-column",children:[Object(h.jsx)(O.a.Link,{href:"../profile/".concat(c.id),children:"Home"}),Object(h.jsx)(O.a.Link,{children:"Evento/Vota\xe7\xe3o"}),Object(h.jsx)(O.a.Link,{href:"../results/".concat(c.id),children:"Resultados"}),Object(h.jsx)(O.a.Link,{href:"http://localhost:3001/logout",children:"Logout"})]}),Object(h.jsxs)("div",{className:"rest",children:[Object(h.jsxs)("header",{children:[" ",Object(h.jsx)("h1",{children:" Vota\xe7\xf5es "})," "]}),p,Object(h.jsxs)(g.a,{responsive:!0,children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:"#"}),Object(h.jsx)("th",{scope:"col",children:"Designa\xe7\xe3o do Evento"}),Object(h.jsx)("th",{scope:"col",children:"Data de Inicio"}),Object(h.jsx)("th",{scope:"col",children:"Data de Final"}),Object(h.jsx)("th",{scope:"col",children:"Agrupamento"}),Object(h.jsx)("th",{scope:"col"})]})}),Object(h.jsxs)("tbody",{children:[V,D]})]})]})]}),Object(h.jsx)(m.a,{className:"rodape2",children:Object(h.jsx)("p",{children:"Votr\xf3nico+ | Vitor Costa 2021"})})]})};var S=function(){var e=this,t=Object(j.f)(),c=Object(j.g)();sessionStorage.setItem("id",c.id);var a=Object(s.useState)(0),n=Object(o.a)(a,2),i=n[0],r=n[1],l=(new Date).toISOString();Object(s.useEffect)((function(){d.a.get("http://localhost:3001/event/".concat(c.id)).then((function(e){r(e.data[0].distrito)}))}),[]);var b=Object(s.useState)([]),u=Object(o.a)(b,2),p=u[0],f=u[1];0===p.length&&null!==p&&d.a.get("http://localhost:3001/events/".concat(i)).then((function(e){f(e.data)}));var C=function(e){t.push("/resultsCheck/".concat(e))},S={eventList:p}.eventList.map((function(t){if(l>t.data_fim)return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:t.id_ele}),Object(h.jsx)("td",{children:t.nome}),Object(h.jsx)("td",{children:"Com resultados"}),Object(h.jsx)("td",{children:t.d_nome}),Object(h.jsxs)("td",{children:[Object(h.jsx)(v.a,{variant:"primary",onClick:C.bind(e,t.id_ele),children:"Resultados"}),Object(h.jsx)("a",{children:" "}),Object(h.jsx)(v.a,{variant:"dark",disabled:!0,children:"Comprovativo"})]})]})})),_=Object(s.useState)([]),N=Object(o.a)(_,2),k=N[0],L=N[1];i>1&&0===p.length&&null!==p&&d.a.get("http://localhost:3001/generalEvents").then((function(e){L(e.data)}));var V={generalList:k}.generalList.map((function(t){if(l>t.data_fim)return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:t.id_ele}),Object(h.jsx)("td",{children:t.nome}),Object(h.jsx)("td",{children:"Com resultados"}),Object(h.jsx)("td",{children:t.d_nome}),Object(h.jsxs)("td",{children:[Object(h.jsx)(v.a,{variant:"primary",onClick:C.bind(e,t.id_ele),children:"Resultados"}),Object(h.jsx)("a",{children:" "}),Object(h.jsx)(v.a,{variant:"dark",disabled:!0,children:"Comprovativo"})]})]})}));return Object(h.jsxs)(x.a,{fluid:!0,children:[Object(h.jsxs)(m.a,{className:"header",children:[Object(h.jsx)("h2",{children:"Menu"}),Object(h.jsxs)("h4",{children:["Bem vindo ",sessionStorage.getItem("name")]})]}),Object(h.jsxs)(m.a,{className:"mainCanvas",children:[Object(h.jsxs)(O.a,{defaultActiveKey:"/home",className:"flex-column",children:[Object(h.jsx)(O.a.Link,{href:"../profile/".concat(c.id),children:"Home"}),Object(h.jsx)(O.a.Link,{href:"../events/".concat(c.id),children:"Evento/Vota\xe7\xe3o"}),Object(h.jsx)(O.a.Link,{children:"Resultados"}),Object(h.jsx)(O.a.Link,{href:"http://localhost:3001/logout",children:"Logout"})]}),Object(h.jsxs)("div",{className:"rest",children:[Object(h.jsxs)("header",{children:[" ",Object(h.jsx)("h1",{children:" Vota\xe7\xf5es "})," "]}),Object(h.jsxs)(g.a,{children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:"#"}),Object(h.jsx)("th",{scope:"col",children:"Designa\xe7\xe3o do Evento"}),Object(h.jsx)("th",{scope:"col",children:"Estado"}),Object(h.jsx)("th",{scope:"col",children:"Agrupamento"}),Object(h.jsx)("th",{scope:"col",children:"A\xe7\xf5es"})]})}),Object(h.jsxs)("tbody",{children:[S,V]})]})]})]}),Object(h.jsx)(m.a,{className:"rodape2",children:Object(h.jsx)("p",{children:"Votr\xf3nico+ | Vitor Costa 2021"})})]})};var _=function(){return Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"notFound",children:"Oops! A p\xe1gina a que tentou aceder n\xe3o existe!"})})},N=(c(79),c(44)),k=c(83);var L=function(){var e=this,t=Object(j.f)(),c=Object(j.g)(),a=sessionStorage.getItem("id"),n=Object(s.useState)(),i=Object(o.a)(n,2),r=i[0],l=i[1],b=function(e){var s=1;V&&(s=0),d.a.post("http://localhost:3001/vote",{userid:a,idele:c.id,listid:e,anonim:s}).then((function(e){1===e.data.affectedRows?(l(Object(h.jsx)(u.a,{variant:"success",children:Object(h.jsx)(u.a.Heading,{children:"Voto submetido com sucesso!"})})),t.goBack()):l(Object(h.jsx)(u.a,{variant:"danger",children:Object(h.jsx)(u.a.Heading,{children:"Falha na vota\xe7\xe3o!"})}))}))},O=Object(s.useState)([]),f=Object(o.a)(O,2),C=f[0],S=f[1];Object(s.useEffect)((function(){d.a.get("http://localhost:3001/getlists/".concat(c.id)).then((function(e){S(e.data)}))}),[]);var _=Object(s.useState)(!1),L=Object(o.a)(_,2),V=L[0],y=L[1],w={lists:C}.lists.map((function(t){return Object(h.jsxs)("tr",{value:t.id_listas,children:[Object(h.jsx)("td",{children:t.id_listas}),Object(h.jsx)("td",{children:t.descricao}),Object(h.jsx)("td",{children:t.nome_can}),Object(h.jsx)("td",{children:Object(h.jsx)(v.a,{variant:"primary",className:"button",onClick:b.bind(e,t.id_listas),children:"Submeter voto"})})]})}));return Object(h.jsxs)(x.a,{fluid:!0,children:[Object(h.jsxs)(m.a,{className:"header",children:[Object(h.jsx)("h2",{children:"Voto"}),Object(h.jsxs)("h4",{children:["Bem vindo ",sessionStorage.getItem("name")]})]}),Object(h.jsxs)("header",{children:[" ",Object(h.jsx)("h1",{children:" Vota\xe7\xe3o "})," "]}),r,Object(h.jsx)(m.a,{className:"votos",children:Object(h.jsxs)(p.a,{className:"votos",children:[Object(h.jsxs)(g.a,{responsive:!0,children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:" # "}),Object(h.jsx)("th",{scope:"col",children:" Descri\xe7\xe3o "}),Object(h.jsx)("th",{scope:"col",children:" Nome Candidato "}),Object(h.jsx)("th",{scope:"col",children:" Voto "})]})}),Object(h.jsx)("tbody",{children:w})]}),Object(h.jsxs)(m.a,{children:[Object(h.jsx)(N.a,{}),Object(h.jsx)(N.a,{children:Object(h.jsx)(k.a,{className:"mb-2",id:"toggle-check",type:"checkbox",variant:"outline-primary",checked:V,value:"1",onChange:function(e){return y(e.currentTarget.checked)},children:"Voto P\xfablico"})}),Object(h.jsx)(N.a,{children:Object(h.jsx)(v.a,{variant:"secondary",className:"button",onClick:t.goBack,children:"Voltar atr\xe1s"})})]})]})}),Object(h.jsx)(m.a,{className:"rodape2",children:Object(h.jsx)("p",{children:"Votr\xf3nico+ | Vitor Costa 2021"})})]})};var V=function(){var e=Object(j.f)(),t=Object(j.g)(),c=Object(s.useState)(0),a=Object(o.a)(c,2),n=a[0],i=a[1];Object(s.useEffect)((function(){d.a.get("http://localhost:3001/getnovotes/".concat(t.id)).then((function(e){i(e.data[0].total)}))}),[]);var r=Object(s.useState)([]),l=Object(o.a)(r,2),b=l[0],O=l[1];Object(s.useEffect)((function(){d.a.get("http://localhost:3001/getpublic/".concat(t.id)).then((function(e){O(e.data)}))}),[]);var u=Object(s.useState)([]),p=Object(o.a)(u,2),f=p[0],C=p[1];Object(s.useEffect)((function(){d.a.get("http://localhost:3001/getvotes/".concat(t.id)).then((function(e){C(e.data)}))}),[]);var S=n,_=({votes:f}.votes.map((function(e){S+=e.countvotos})),{votes:f}.votes.map((function(e){var t=e.countvotos/S*100;return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.listanome}),Object(h.jsx)("td",{children:e.countvotos}),Object(h.jsx)("td",{children:Math.round(t)+"%"})]})}))),k={publicvoters:b}.publicvoters.map((function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.nome}),Object(h.jsx)("td",{children:e.descricao})]})}));return Object(h.jsxs)(x.a,{fluid:!0,children:[Object(h.jsxs)(m.a,{className:"header",children:[Object(h.jsx)("h2",{children:"Resultados"}),Object(h.jsxs)("h4",{children:["Bem vindo ",sessionStorage.getItem("name")]})]}),Object(h.jsxs)("header",{children:[" ",Object(h.jsx)("h1",{children:" Resultados "})," "]}),Object(h.jsx)(v.a,{variant:"secondary",className:"button",onClick:e.goBack,children:"Voltar atr\xe1s"}),Object(h.jsx)("hr",{}),Object(h.jsxs)(m.a,{className:"resultados",children:[Object(h.jsxs)(N.a,{xs:3,children:[Object(h.jsx)("h3",{children:"Votos por Lista"}),Object(h.jsxs)(g.a,{responsive:!0,children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:"Designa\xe7\xe3o"}),Object(h.jsx)("th",{scope:"col",children:"Votos"}),Object(h.jsx)("th",{scope:"col",children:"Percentagem"}),Object(h.jsx)("th",{scope:"col"})]})}),Object(h.jsxs)("tbody",{children:[_,Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Absten\xe7\xe3o"}),Object(h.jsx)("td",{children:n}),Object(h.jsx)("td",{children:Math.round(n/S*100)+"%"})]})]})]})]}),Object(h.jsx)(N.a,{xs:3,children:Object(h.jsx)("tr",{children:Object(h.jsx)("th",{scope:"col",children:"Gr\xe1fico"})})}),Object(h.jsxs)(N.a,{xs:3,children:[Object(h.jsx)("h3",{children:"Votos P\xfablicos"}),Object(h.jsxs)(g.a,{responsive:!0,children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:"Votante"}),Object(h.jsx)("th",{scope:"col",children:"Lista Votada"})]})}),Object(h.jsx)("tbody",{children:k})]})]})]}),Object(h.jsx)(m.a,{className:"rodape2",children:Object(h.jsx)("p",{children:"Votr\xf3nico+ | Vitor Costa 2021"})})]})};var y=function(){return Object(h.jsx)(i.a,{children:Object(h.jsxs)(j.c,{children:[Object(h.jsx)(j.a,{exact:!0,path:"/",component:b}),Object(h.jsx)(j.a,{exact:!0,path:"/profile/:id",component:f}),Object(h.jsx)(j.a,{exact:!0,path:"/events/:id",component:C}),Object(h.jsx)(j.a,{exact:!0,path:"/results/:id",component:S}),Object(h.jsx)(j.a,{exact:!0,path:"/votingOption/:id",component:L}),Object(h.jsx)(j.a,{exact:!0,path:"/resultscheck/:id",component:V}),Object(h.jsx)(j.a,{exact:!0,path:"*",component:_})]})})};n.a.render(Object(h.jsx)(y,{}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.ea05918b.chunk.js.map